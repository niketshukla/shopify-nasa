let pokemonRepository=function(){let e=[],t=t=>{"object"==typeof t&&e.push(t)};let n=e=>{console.log("show"),pokemonRepository.loadDetails(e).then(function(){let t=document.querySelector("#modal-container"),n=()=>{t.classList.remove("is-visible")};((e,o,l)=>{t.innerHTML="";let i=document.createElement("div");i.classList.add("modal");let s=document.createElement("button");s.innerText="close",s.classList.add("modal-close"),s.addEventListener("click",n);let c=document.createElement("h1");c.innerText=e;let d=document.createElement("p");d.innerText=`Height: ${o}`;let a=document.createElement("img");a.src=l,t.appendChild(i),i.appendChild(s),i.appendChild(c),i.appendChild(d),i.appendChild(a),t.classList.add("is-visible")})(e.name,e.height,e.imageUrl),window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&n()}),t.addEventListener("click",e=>{e.target===t&&n()})},()=>{alert("hi")})};return{add:t,getAll:()=>(console.log("three - getAll"),e),addListItem:e=>{console.log("five - called addListItem");let t=document.querySelector(".pokemon_list"),o=document.createElement("li"),l=document.createElement("button");l.innerText=e.name,l.classList.add("listBtn"),o.appendChild(l),t.appendChild(o),l.addEventListener("click",function(){console.log("clicked"),n(e)})},loadList:()=>(console.log("one - Called loadList"),fetch("https://pokeapi.co/api/v2/pokemon/?limit=20").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let n={name:e.name,detailsUrl:e.url};t(n)})}).catch(function(e){console.error(e)})),loadDetails:function(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})}}}();pokemonRepository.loadList().then(function(){console.log("two - inside loadList"),pokemonRepository.getAll().forEach(function(e){console.log("four - inside getAll"),pokemonRepository.addListItem(e)})});